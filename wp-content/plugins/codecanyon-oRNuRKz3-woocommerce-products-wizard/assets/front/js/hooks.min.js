function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,o){"use strict";"function"==typeof define&&define.amd?define(["jquery","sticky-kit"],o):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?module.exports=o(require("jquery"),require("sticky-kit")):o(t.jQuery)}(this,function(a){"use strict";var r=this,e=a(document);document.wcpw={$rootElement:a("html, body"),isScrolledIntoView:function(t){var o=a(window).scrollTop(),e=o+a(window).height(),i=a(t).offset().top;return i+a(t).height()<=e&&o<=i},scrollToElement:function(t,o){this.$rootElement.stop().animate({scrollTop:t.offset().top+Number(o)},500)},reInitExtraProductOptions:function(){return void 0===a.tcepo||void 0===a.tcepo.tm_init_epo?this:(void 0!==a.tc_api_set?a.tc_api_set("get_element_from_field_cache",[]):void 0!==a.tcAPISet&&a.tcAPISet("getElementFromFieldCache",[]),e.off("click.cpfurl change.cpfurl tmredirect",".use_url_container .tmcp-radio, .use_url_container .tmcp-radio+label").off("change.cpfurl tmredirect",".use_url_container .tmcp-select"),a(".tmcp-upload-hidden").remove(),a('[data-component~="wcpw-product"]').each(function(){var t=a(this),o=t.find(".tc-extra-product-options"),e=o.attr("data-product-id"),i=o.attr("data-epo-id");return o.length<=0||!e||!i?null:(a.tcepo.tm_init_epo(t,!0,e,i),a(window).trigger("tmlazy"),a.jMaskGlobals&&t.find(a.jMaskGlobals.maskElements).each(function(){var t=a(this);t.attr("data-mask")&&t.mask(t.attr("data-mask"))}),"variable"===t.data("type")&&t.find('[data-component~="wcpw-product-variations"]').trigger("wc_variation_form.cpf"),this)}))},saveExtraProductOptions:function(t){if(void 0===a.tcepo)return null;var o=t.product_id,e=a(".tc-extra-product-options.tm-product-id-".concat(o));if(1!==e.length)return!0;var i=a(".tc-totals-form.tm-product-id-".concat(o)),r=i.find(".tc_form_prefix").val(),n={tcajax:1,tcaddtocart:o,cpf_product_price:i.find(".cpf-product-price").val()};if(r&&(n.tc_form_prefix=r),i.tc_validate&&!i.closest("form").tc_validate().form())return!1;var c=e.tm_aserializeObject?e.tm_aserializeObject():e.tcSerializeObject();return a.each(c,function(t,o){Array.isArray(o)&&0===(o=o.filter(function(t){return""!==t})).length&&(c[t]="")}),t.request=a.extend(c,n),!0},saveExtraProductOptionsAttachments:function(t){void 0!==a.tcepo&&a('.tc-extra-product-options input[type="file"]').each(function(){return this.files[0]&&this.files[0].size?t.append(this.name,this.files[0]):this})}},e.ready(function(){"undefined"!=typeof wpcf7&&void 0!==wpcf7.initForm&&e.on("ajaxCompleted.wcProductsWizard",function(t,o){wpcf7.initForm(o.$element.find(".wpcf7-form"))}),void 0!==a.tcepo&&e.on("submit.wcProductsWizard",function(t,e,i){e&&i&&a.each(i.productsToAdd,function(t,o){void 0===i.productsToAddChecked[o.step_id]||-1===i.productsToAddChecked[o.step_id].indexOf(o.product_id)||document.wcpw.saveExtraProductOptions(o)||(e.hasError=!0,e.productsWithError.push(o))})}).on("ajaxRequest.wcProductsWizard",function(t,o,e){document.wcpw.saveExtraProductOptionsAttachments(e)})}).on("launched.wcProductsWizard ajaxCompleted.wcProductsWizard",function(t,o){o.args.attachedMode&&a("#"+o.args.formId).trigger("check_variations"),void 0!==a.fn.prettyPhoto&&void 0!==o.$element&&o.$element.find('a[data-rel^="prettyPhoto"]').prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1}),void 0!==window.avadaLightBox&&void 0!==window.avadaLightBox.activate_lightbox&&window.avadaLightBox.activate_lightbox(o.$element),void 0!==a.fn.stick_in_parent&&a('[data-component~="wcpw-sticky"]').each(function(){var t=a(this);return t.stick_in_parent({parent:t.data("sticky-parent"),offset_top:Number(t.data("sticky-top-offset"))})}),document.wcpw.reInitExtraProductOptions(),e.trigger("init.nouislider")}).on("submit.error.wcProductsWizard",function(t,o){if(!o||o.productsWithError.length<=0)return r;var e,i=o.$element.find('[data-component~="wcpw-product"][data-id="'.concat(o.productsWithError[0].product_id,'"]')+'[data-step-id="'.concat(o.productsWithError[0].step_id,'"]'));return i.length<=0||(document.wcpw.isScrolledIntoView(i)||document.wcpw.scrollToElement(i,o.args.scrolling_up_gap),void 0===a.fn.modal||0<(e=i.find('[data-component="wcpw-product-modal"]')).length&&e.modal("show")),r}).on("ajaxRequest.wcProductsWizard",function(){void 0!==a.fn.modal&&a('[data-component="wcpw-product-modal"].show').modal("hide")}).on("hide_variation",".variations_form",function(){var t=a(this),o=t.closest(".product").find('[data-component="wcpw-add-to-cart"][form="'.concat(t.attr("id"),'"]'));0<o.length&&o.addClass("disabled").attr("disabled",!0)}).on("show_variation",".variations_form",function(){var t=a(this),o=t.closest(".product").find('[data-component="wcpw-add-to-cart"][form="'.concat(t.attr("id"),'"]'));0<o.length&&o.removeClass("disabled").removeAttr("disabled")})});