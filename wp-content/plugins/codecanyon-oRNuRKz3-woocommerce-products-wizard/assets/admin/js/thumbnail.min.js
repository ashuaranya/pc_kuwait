function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(o){"use strict";function e(t,e){return this.element=t,this.options=o.extend({},n,e),this.init()}var n={};e.prototype.init=function(){return this.$element=o(this.element),this.$id=this.$element.find('[data-component~="wcpw-thumbnail-id"]'),this.$image=this.$element.find('[data-component~="wcpw-thumbnail-image"]'),this},e.prototype.openModal=function(){var i=this;return this.modalFrame?(this.modalFrame.open(),this):(this.modalFrame=wp.media.frames.downloadable_file=wp.media({title:"Select image",button:{text:"Select"},multiple:!1}),this.modalFrame.on("select",function(){return i.modalFrame.state().get("selection").map(function(t){var e=t.toJSON();if(!e.id)return null;var n={}.hasOwnProperty.call(e,"sizes")&&{}.hasOwnProperty.call(e.sizes,"thumbnail")?e.sizes.thumbnail.url:e.url;return i.$image.html('<img src="'.concat(n,'">')),i.$id.val(e.id),o(document).trigger("selected.thumbnail.wcpw",[i,t]),t})}),this.modalFrame.open())},e.prototype.removeImage=function(){return this.$image.html(""),this.$id.val(""),o(document).trigger("removed.thumbnail.wcpw",[this]),this},o.fn.wcpwThumbnail=function(t){return this.each(function(){o.data(this,"wcpw-thumbnail")||o.data(this,"wcpw-thumbnail",new e(this,t))})};function t(){return o('[data-component~="wcpw-thumbnail"]').each(function(){return o(this).wcpwThumbnail()})}o(document).ready(t).on("init.thumbnail.wcpw",t).on("click",'[data-component~="wcpw-thumbnail-set"]',function(t){t.preventDefault();var e=o(this).closest('[data-component~="wcpw-thumbnail"]');return e.data("wcpw-thumbnail")?e.data("wcpw-thumbnail").openModal():this}).on("click",'[data-component~="wcpw-thumbnail-remove"]',function(t){t.preventDefault();var e=o(this).closest('[data-component~="wcpw-thumbnail"]');return e.data("wcpw-thumbnail")?e.data("wcpw-thumbnail").removeImage():this})});