function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(r){"use strict";function e(t,e){return this.element=t,this.options=r.extend({},n,e),this.init()}var n={},o={},s={};e.prototype.init=function(){var e=this;return this.$element=r(this.element),this.$target=!1,this.ajaxUrl=this.$element.data("ajax-url"),this.$element.data("target-parent")&&(this.$target=this.$element.parents(this.$element.data("target-parent"))),this.$element.data("target-selector")&&(this.$target?this.$target=this.$target.find(this.$element.data("target-selector")):this.$target=r(this.$element.data("target-selector"))),this.getItems().done(function(t){e.updateItems(t),e.$element.data("value")&&e.$element.val(e.$element.data("value"))}),this.$target.off("change.ajaxSelect.wcpw").on("change.ajaxSelect.wcpw",function(){return e.getItems().done(function(t){return e.updateItems(t)})}),this},e.prototype.getItems=function(){var e=this,n=this.$element.data("action"),a=this.$target.val();if(""===a||void 0===a)return r.when("");var t={action:n,value:a};if(s[n]&&s[n][a])return r.when(s[n][a]);if(o[n]&&o[n][a])return o[n][a];var i=r.get(this.ajaxUrl,t,function(t){s[n]||(s[n]={}),s[n][a]=t,r(document).trigger("itemsUpdated.ajaxSelect.wcpw",[e,t])});return o[n]||(o[n]={}),o[n][a]=i},e.prototype.updateItems=function(t){return this.$element.html(t),this},r.fn.wcpwAjaxSelect=function(t){return this.each(function(){r.data(this,"wcpw-ajax-select")||r.data(this,"wcpw-ajax-select",new e(this,t))})};function t(){return r('[data-component~="wcpw-ajax-select"]').each(function(){return r(this).wcpwAjaxSelect()})}r(document).ready(t).on("ajaxComplete.wcpw init.ajaxSelect.wcpw",t)});